@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>@ViewData["Title"] - AspGoat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Source+Code+Pro:wght@400;600&family=Fira+Code&family=Space+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <style>
        html, body {
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
            line-height: 1.6;
            color: #222;
        }

        code, pre, kbd, samp {
            font-family: 'Fira Code', 'Source Code Pro', 'Space Mono', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
            font-size: 0.95em;
        }

        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 250px;
            background-color: #5a2a9c; /* Purple ASP.NET Theme */
            padding-top: 20px;
            box-sizing: border-box;
            overflow-y: auto;
        }

        .topbar {
            position: fixed;
            top: 0;
            left: 250px;      /* same as .sidebar width */
            right: 0;
            height: 50px;
            background: var(--bg);
            display: flex;
            align-items: center;
            z-index: 1000;
        }

        .topbar .topbar-actions {
            margin-left: auto;
            padding: 0 24px;  /* right padding for the button */
        }

        .main-content {
            margin-left: 250px;
            padding: 30px;
            padding-top: 20px; /* 56px bar + spacing */
        }

        .sidebar h2 {
            color: white;
            padding-left: 20px;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .sidebar a {
            display: block;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-bottom: 1px solid #c0c0c0; /* subtle greyish border */
        }

        .sidebar a:hover {
            background-color: #3b1ca6; /* darker hover */
        }

        .sidebar a .nav-ico {
            width: 16px;
            height: 16px;
            margin-right: 8px;
            vertical-align: -2px;
            fill: #ffffff;
            opacity: 0.9;
        }

        .sidebar a:hover .nav-ico {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <h2>AspGoat</h2>
        <a asp-controller="Home" asp-action="Dashboard">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 10l9-7 9 7v10a1 1 0 0 1-1 1h-6v-6h-4v6H4a1 1 0 0 1-1-1V10z"/></svg>
            Home
        </a>
        <a asp-controller="Home" asp-action="SqlInjection">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Sql Injection
        </a>
        <a asp-controller="Home" asp-action="BrokenAuthentication">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Broken Authentication
        </a>
        <a asp-controller="Home" asp-action="InformationDisclosure">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Information Disclosure
        </a>
        <a asp-controller="Home" asp-action="XXE">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            XML External Entities (XXE)
        </a>
        <a asp-controller="Home" asp-action="InsecureDirectObjectReference">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Insecure Direct Object Reference (IDOR)
        </a>
        <a asp-controller="Home" asp-action="OpenRedirect">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Open Redirect
        </a>
        <a asp-controller="Home" asp-action="ReflectedXSS">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Reflected XSS
        </a>
        <a asp-controller="Home" asp-action="StoredXSS">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Stored XSS
        </a>
        <a asp-controller="Home" asp-action="DomXSS">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            DOM XSS
        </a>
        <a asp-controller="Home" asp-action="InsecureDeserialization">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Insecure Deserialization
        </a>
        <a asp-controller="Home" asp-action="PrototypePollution">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Prototype Pollution
        </a>
        <a asp-controller="Home" asp-action="LFI">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Local File Inclusion (LFI)
        </a>
        <a asp-controller="Home" asp-action="FileUpload">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M4 4h16v16H4zM9 13h6v2H9zM11 7h2v6h-2z"/></svg>
            Unrestricted File Upload (File Overwrite)
        </a>
        <a asp-controller="Home" asp-action="CommandInjection">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M3 5h18v14H3zM6 9h5v2H6zM6 13h8v2H6z"/></svg>
            Command Injection (RCE)
        </a>
        <a asp-controller="Home" asp-action="CSRF">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Cross Site Request Forgery (CSRF)
        </a>
        <a asp-controller="Home" asp-action="SSRF">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Server Side Request Forgery (SSRF)
        </a>
        <a asp-controller="Home" asp-action="CachePoisoning">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Cache Poisoning
        </a>
        <a asp-controller="Home" asp-action="SSTI">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            Server Side Template Injection (RCE)
        </a>
        <a asp-controller="Home" asp-action="LLM_Vulnerabilities">
            <svg class="nav-ico" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2l9 5v5c0 5-4 8-9 10C7 20 3 17 3 12V7l9-5z"/></svg>
            AI / LLM Vulnerabilities
        </a>
    </div>

    <div class="topbar">
        <div class="topbar-actions">
            <a asp-controller="Account" asp-action="Logout" class="btn btn-danger">
                ⏻&nbsp;Logout
            </a>  
        </div>
    </div>

    <div class="main-content">
        @RenderBody()
    </div>
</body>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const bar = document.querySelector(".sidebar");   
  if (!bar) return;

  // restore saved position
  bar.scrollTop = +sessionStorage.getItem("sidebarScroll") || 0;

  // remember current position
  window.addEventListener("beforeunload", () => {
    sessionStorage.setItem("sidebarScroll", bar.scrollTop);
  });
});
</script>

</html>
